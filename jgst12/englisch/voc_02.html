<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Vokabeltrainer ‚Äì Digital Privacy</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }

    :root {
      --bg: #121212;
      --card-bg: rgba(255, 255, 255, 0.05);
      --text: #f0f0f0;
      --accent: #4CAF50;
      --wrong: #E53935;
    }

    body.light {
      --bg: #f5f5f5;
      --card-bg: rgba(0, 0, 0, 0.05);
      --text: #222;
    }

    header {
      position: sticky;
      top: 0;
      background: var(--bg);
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #666;
    }

    .toggle {
      cursor: pointer;
      padding: 8px 12px;
      background: var(--card-bg);
      border-radius: 6px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }

    .card {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.4);
      overflow: hidden;
      cursor: pointer;
    }

    .card .translation {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease;
      margin-top: 10px;
      color: var(--accent);
    }

    .card.open .translation {
      max-height: 200px;
    }

    a {
      display: inline-block;
      margin-top: 30px;
      color: var(--accent);
      text-decoration: none;
      font-weight: bold;
      padding: 10px 15px;
      background: var(--card-bg);
      border-radius: 8px;
    }

    .quiz-section {
      display: none;
    }

    .quiz-option {
      display: block;
      margin: 10px 0;
      padding: 12px;
      background: var(--card-bg);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .quiz-option.correct {
      background: var(--accent);
      color: white;
    }

    .quiz-option.wrong {
      background: var(--wrong);
      color: white;
    }

    .reset-btn {
      margin-top: 20px;
      padding: 8px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: var(--wrong);
      color: white;
    }
  </style>
</head>
<body>
  <header>
    <h2>Vokabeltrainer</h2>
    <div class="toggle" onclick="toggleMode()">üåô/‚òÄÔ∏è</div>
  </header>
  <div class="container">
    <h3>Lernkarten ‚Äì Scroll f√ºr L√∂sung</h3>
    <div id="flashcards"></div>

    <a href="#" onclick="startQuiz()">‚û° Trainingsmodus starten</a>
    <a href="/fbe">‚Üê Zur√ºck zur Dateiliste</a>

    <div class="quiz-section" id="quiz">
      <h3>German ‚Äì More Information</h3>
      <p id="quiz-question"></p>
      <div id="options"></div>
      <button class="reset-btn" onclick="resetProgress()">Reset Fortschritt</button>
    </div>
  </div>

<script>
const vocab = [
  {word:"to misuse", info:"n misuse", translation:"missbrauchen"},
  {word:"to outline sth", info:"to give a (short) description of sth", translation:"etw darstellen, etw skizzieren"},
  {word:"to exploit sth", info:"to use sth in a way that helps you", translation:"etw ausnutzen, etw ausbeuten"},
  {word:"sensitive data pl", info:"private information", translation:"vertrauliche Daten"},
  {word:"intimate", info:"very personal", translation:"intim"},
  {word:"to reveal sth", info:"to show sth that was hidden before", translation:"etw aufdecken, etw enth√ºllen"},
  {word:"extent", info:"amount, scale", translation:"Ausma√ü, Umfang"},
  {word:"to purchase sth", info:"to buy sth", translation:"etw kaufen, etw k√§uflich erwerben"},
  {word:"to surveil sb/sth", info:"n surveillance", translation:"jdn/etw √ºberwachen"},
  {word:"likelihood", info:"probability of sth happening", translation:"Wahrscheinlichkeit"},
  {word:"to obtain sth", info:"to get sth, to receive sth", translation:"etw erhalten, etw bekommen"},
  {word:"to afford sth (to) sb", info:"rights afforded to me", translation:"jdm etw bieten, jdm etw gew√§hren"},
  {word:"revenge", info:"act of hurting in return", translation:"Rache"},
  {word:"decency", info:"adj decent", translation:"Anstand, gute Sitten"},
  {word:"harm", info:"to inflict harm", translation:"Schaden"},
  {word:"consent", info:"agreeing to sth", translation:"Einwilligung"},
  {word:"to subscribe (to) sth", info:"pay to receive sth", translation:"etw abonnieren"},
  {word:"to recognise sb/sth", info:"to see and know", translation:"jdn/etw anerkennen"},
  {word:"cruelty", info:"adj cruel", translation:"Grausamkeit, Brutalit√§t"},
  {word:"vulnerability", info:"adj vulnerable", translation:"Schw√§che, Angriffspunkt"},
  {word:"to expose sb to sth", info:"n exposure", translation:"jdn einer Sache aussetzen"},
  {word:"explicit(ly)", info:"I explicitly said ‚Ä¶", translation:"ausdr√ºcklich, deutlich"},
  {word:"draft", info:"v to draft sth", translation:"Entwurf"},
  {word:"breach", info:"privacy breach", translation:"Verletzung, Versto√ü"},
  {word:"to be considered sth", info:"to be seen as sth", translation:"als etw gelten, als etw angesehen werden"}
];

const flashcards = document.getElementById("flashcards");
vocab.forEach(v => {
  let div = document.createElement("div");
  div.className="card";
  div.innerHTML = `<strong>${v.word}</strong><br><small>${v.info}</small>
                   <div class="translation">${v.translation}</div>`;
  div.onclick = ()=> div.classList.toggle("open");
  flashcards.appendChild(div);
});

// Quizmodus
let queue = [];
let current = null;

function startQuiz(){
  document.getElementById("quiz").style.display="block";
  if (!localStorage.getItem("queue")){
    queue = [...vocab];
    localStorage.setItem("queue", JSON.stringify(queue));
  } else {
    queue = JSON.parse(localStorage.getItem("queue"));
  }
  nextQuestion();
}

function nextQuestion(){
  if (queue.length===0){
    document.getElementById("quiz-question").innerText="üéâ Du hast alle Vokabeln gemeistert!";
    document.getElementById("options").innerHTML="";
    return;
  }
  current = queue.shift();
  localStorage.setItem("queue", JSON.stringify(queue));
  document.getElementById("quiz-question").innerText = current.translation;
  
  // Optionen generieren
  let opts = [current.word];
  while (opts.length<3){
    let rnd = vocab[Math.floor(Math.random()*vocab.length)].word;
    if (!opts.includes(rnd)) opts.push(rnd);
  }
  opts.sort(()=>Math.random()-0.5);

  let wrap = document.getElementById("options");
  wrap.innerHTML="";
  opts.forEach(opt=>{
    let btn = document.createElement("div");
    btn.className="quiz-option";
    btn.innerText = opt;
    btn.onclick=()=>{
      if (opt===current.word){
        btn.classList.add("correct");
        setTimeout(nextQuestion,600);
      } else {
        btn.classList.add("wrong");
        queue.push(current); // zur√ºck in die Queue
        localStorage.setItem("queue", JSON.stringify(queue));
        setTimeout(nextQuestion,600);
      }
    };
    wrap.appendChild(btn);
  });
}

function resetProgress(){
  localStorage.removeItem("queue");
  queue=[...vocab];
  nextQuestion();
}

function toggleMode(){
  document.body.classList.toggle("light");
}
</script>
</body>
</html>
