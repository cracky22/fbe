<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vokabeltrainer</title>
    <!-- Lädt Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lädt die Inter-Schriftart -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /*
         * MATERIAL 3 EXPRESSIVE & ANIMATIONEN
         */
        body {
            font-family: 'Inter', sans-serif;
            /* Sanfter, moderner Hintergrund im M3-Stil */
            background-color: #f3f4f6;
            /* slate-100 */
        }

        /* Container für die 3D-Perspektive */
        .card-scene {
            perspective: 1000px;
        }

        /* Der innere Container, der sich dreht */
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
            /* Flüssigere Animation */
            transform-style: preserve-3d;
        }

        /* CSS-Klasse, die per JS hinzugefügt wird, um die Karte zu drehen */
        .card-inner.is-flipped {
            transform: rotateY(180deg);
        }

        /* Vorder- und Rückseite der Karte */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            /* Safari */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 24px;
            /* Stärkere Rundung im M3-Stil */
            border-radius: 1.5rem;
            /* 24px */
            border: 1px solid #e5e7eb;
            /* gray-200 */
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        /* Rückseite ist initial "hinten" */
        .card-back {
            transform: rotateY(180deg);
        }

        /*
         * ANIMATIONEN
         */

        /* 1. Animation für das Laden der Haupt-App-Karte */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.98);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .main-container-anim {
            animation: fadeInUp 0.5s ease-out forwards;
        }

        /* 2. Animationen für den Kartenwechsel (Nächste Karte) */
        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(-30px) scale(0.95);
            }
        }

        .is-changing {
            /* 'forwards' hält den Endzustand der Animation bei */
            animation: slideOut 0.3s ease-out forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        .is-loading {
            animation: slideIn 0.3s ease-in;
        }

        /* 3. Button-Klick-Animation (Material 3 "Boop") */
        button {
            /* Übergang für den Klick-Effekt */
            transition: transform 0.1s ease, background-color 0.2s;
        }

        button:active {
            /* Klick-Effekt: Leichtes Verkleinern */
            transform: scale(0.95);
        }
    </style>
</head>

<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">

    <!-- Hauptcontainer des Vokabeltrainers -->
    <!-- `main-container-anim` wird für die Ladeanimation verwendet -->
    <div class="main-container-anim bg-white shadow-2xl rounded-3xl p-6 sm:p-8 w-full max-w-lg opacity-0">

        <!-- Titel - Größer und fetter im M3-Stil -->
        <h1 class="text-4xl font-extrabold text-center text-indigo-900 mb-6">
            Vokabeltrainer
        </h1>

        <!-- Modus-Umschalter - Pill-shaped (rounded-full) im M3-Stil -->
        <div class="flex justify-center gap-4 mb-6">
            <button id="mode-en-de"
                class="text-sm font-semibold py-2.5 px-6 rounded-full transition-colors bg-indigo-600 text-white shadow-lg shadow-indigo-200">
                EN &rarr; DE
            </button>
            <button id="mode-de-en"
                class="text-sm font-semibold py-2.5 px-6 rounded-full transition-colors bg-indigo-100 text-indigo-700 hover:bg-indigo-200">
                DE &rarr; EN
            </button>
        </div>

        <!-- Karteikarten-Bereich -->
        <div class="card-scene w-full h-64 sm:h-72 mb-5">
            <div id="card-inner" class="card-inner">
                <!-- Vorderseite der Karte -->
                <div class="card-face card-front">
                    <span class="text-sm font-medium text-indigo-500 mb-2">Vorderseite</span>
                    <p id="card-front-text" class="text-2xl sm:text-3xl font-bold text-center text-slate-900"></p>
                </div>
                <!-- Rückseite der Karte -->
                <div class="card-face card-back">
                    <span class="text-sm font-medium text-indigo-500 mb-2">Rückseite</span>
                    <p id="card-back-text" class="text-2xl sm:text-3xl font-bold text-center text-slate-900 mb-3"></p>
                    <p id="card-info-text" class="text-base text-center text-slate-600 italic px-4"></p>
                </div>
            </div>
        </div>

        <!-- Fortschrittsanzeige -->
        <div id="progress-text" class="text-center text-sm font-medium text-slate-500 mb-5">
            Karte 1 von X
        </div>

        <!-- Steuerungsbuttons - Pill-shaped und M3-Farben -->
        <div class="flex flex-col gap-3">
            <button id="flip-button"
                class="w-full bg-indigo-600 text-white font-semibold py-3.5 px-6 rounded-full shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-indigo-300">
                Antwort anzeigen
            </button>
            <div class="flex gap-3">
                <button id="shuffle-button"
                    class="w-1/2 bg-indigo-100 text-indigo-700 font-semibold py-3.5 px-6 rounded-full hover:bg-indigo-200 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-indigo-200">
                    Mischen
                </button>
                <button id="next-button"
                    class="w-1/2 bg-indigo-900 text-white font-semibold py-3.5 px-6 rounded-full shadow-md hover:bg-slate-900 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-indigo-300">
                    Nächste
                </button>
            </div>
        </div>

        <!-- Abschluss-Nachricht -->
        <div id="complete-message" class="hidden text-center mt-6 p-4 bg-green-100 text-green-800 rounded-2xl">
            <p class="font-semibold">Glückwunsch!</p>
            <p>Du hast alle Karten gelernt. Die Karten werden jetzt neu gemischt.</p>
        </div>

    </div>

    <script type="module">
        // Alle Vokabeln aus der Anfrage
        const vocabDataRaw = [
            {
                "en": "access to information",
                "de": "Zugang zu Informationen",
                "info": "the freedom to get information"
            },
            {
                "en": "broadsheet",
                "de": "(seriöse) Tageszeitung",
                "info": "e.g. The Times, Süddeutsche Zeitung"
            },
            {
                "en": "in-depth and serious coverage",
                "de": "gründliche und seriöse Berichterstattung",
                "info": "opposite: gossip, shallow reporting"
            },
            { "en": "tabloid", "de": "Boulevardzeitung", "info": "e.g. The Sun, Bild" },
            {
                "en": "current affairs",
                "de": "aktuelles Zeitgeschehen",
                "info": "news stories that are happening right now"
            },
            {
                "en": "in real time",
                "de": "in Echtzeit",
                "info": "at the same time as events"
            },
            {
                "en": "to go viral",
                "de": "sich rasant (im Internet) verbreiten",
                "info": "to become popular very quickly"
            },
            {
                "en": "to shape public opinion",
                "de": "die öffentliche Meinung formen",
                "info": "to influence ideas about a topic"
            },
            {
                "en": "spread of fake news",
                "de": "Verbreitung von Falschinformationen",
                "info": "distribution of incorrect information"
            },
            {
                "en": "misinformation",
                "de": "Fehlinformationen",
                "info": "incorrect or misleading information"
            },
            {
                "en": "polarization",
                "de": "Polarisierung",
                "info": "having opposite opinions"
            },
            { "en": "algorithm", "de": "Algorithmus", "info": "e.g., Sum = S1+S2+S3" },
            {
                "en": "echo chamber",
                "de": "Echokammer",
                "info": "group of people with same opinions"
            },
            {
                "en": "bias",
                "de": "(politische) Einstellung, Vorurteil, Tendenz",
                "info": "the ideas and opinions we already have"
            },
            {
                "en": "to monetize sth",
                "de": "aus etw ein Einkommen erzielen",
                "info": "to make money from sth"
            },
            {
                "en": "privacy",
                "de": "Privatsphäre",
                "info": "keeping information to yourself"
            },
            {
                "en": "cyber security",
                "de": "Cybersicherheit",
                "info": "protecting systems from attacks"
            },
            { "en": "data", "de": "Daten", "info": "facts and statistics" },
            {
                "en": "screen time",
                "de": "Bildschirmzeit",
                "info": "amount of time spent online"
            },
            {
                "en": "online addiction",
                "de": "Internet-Sucht",
                "info": "I could not stop checking my phone"
            },
            {
                "en": "skills",
                "de": "Fähigkeiten, Kenntnisse",
                "info": "knowledge and abilities"
            },
            {
                "en": "cheating",
                "de": "Betrug, Täuschung",
                "info": "opposite: playing fair"
            },
            {
                "en": "plagiarism",
                "de": "Plagiate, Diebstahl geistigen Eigentums",
                "info": "copying sb else’s work"
            },
            {
                "en": "attention span",
                "de": "Aufmerksamkeitsspanne",
                "info": "how long sb can concentrate"
            },
            {
                "en": "critical thinking",
                "de": "kritisches Denken",
                "info": "understanding based on facts"
            },
            {
                "en": "to navigate sth",
                "de": "sich in etw zurechtfinden",
                "info": "to find your way through sth"
            },
            { "en": "to misuse", "info": "n misuse", "de": "missbrauchen" },
            {
                "en": "to outline sth",
                "info": "to give a (short) description of sth",
                "de": "etw darstellen, etw skizzieren"
            },
            {
                "en": "to exploit sth",
                "info": "to use sth in a way that helps you",
                "de": "etw ausnutzen, etw ausbeuten"
            },
            {
                "en": "sensitive data pl",
                "info": "private information",
                "de": "vertrauliche Daten"
            },
            { "en": "intimate", "info": "very personal", "de": "intim" },
            {
                "en": "to reveal sth",
                "info": "to show sth that was hidden before",
                "de": "etw aufdecken, etw enthüllen"
            },
            { "en": "extent", "info": "amount, scale", "de": "Ausmaß, Umfang" },
            {
                "en": "to purchase sth",
                "info": "to buy sth",
                "de": "etw kaufen, etw käuflich erwerben"
            },
            {
                "en": "to surveil sb/sth",
                "info": "n surveillance",
                "de": "jdn/etw überwachen"
            },
            {
                "en": "likelihood",
                "info": "probability of sth happening",
                "de": "Wahrscheinlichkeit"
            },
            {
                "en": "to obtain sth",
                "info": "to get sth, to receive sth",
                "de": "etw erhalten, etw bekommen"
            },
            {
                "en": "to afford sth (to) sb",
                "info": "rights afforded to me",
                "de": "jdm etw bieten, jdm etw gewähren"
            },
            { "en": "revenge", "info": "act of hurting in return", "de": "Rache" },
            { "en": "decency", "info": "adj decent", "de": "Anstand, gute Sitten" },
            { "en": "harm", "info": "to inflict harm", "de": "Schaden" },
            { "en": "consent", "info": "agreeing to sth", "de": "Einwilligung" },
            {
                "en": "to subscribe (to) sth",
                "info": "pay to receive sth",
                "de": "etw abonnieren"
            },
            {
                "en": "to recognise sb/sth",
                "info": "to see and know",
                "de": "jdn/etw anerkennen"
            },
            { "en": "cruelty", "info": "adj cruel", "de": "Grausamkeit, Brutalität" },
            {
                "en": "vulnerability",
                "info": "adj vulnerable",
                "de": "Schwäche, Angriffspunkt"
            },
            {
                "en": "to expose sb to sth",
                "info": "n exposure",
                "de": "jdn einer Sache aussetzen"
            },
            {
                "en": "explicit(ly)",
                "info": "I explicitly said …",
                "de": "ausdrücklich, deutlich"
            },
            { "en": "draft", "info": "v to draft sth", "de": "Entwurf" },
            { "en": "breach", "info": "privacy breach", "de": "Verletzung, Verstoß" },
            {
                "en": "to be considered sth",
                "info": "to be seen as sth",
                "de": "als etw gelten, als etw angesehen werden"
            },
            {
                "en": "confession",
                "de": "Geständnis",
                "info": "v to confess sth (to sb)"
            },
            {
                "en": "unaccustomed",
                "de": "ungewohnt",
                "info": "phr to be unaccustomed to sth"
            },
            {
                "en": "to approach sb",
                "de": "an jdn/etw herantreten, sich jdm/etw nähern",
                "info": "to walk up to sb/sth, to get closer to sb/sth"
            },
            {
                "en": "to dispel sth",
                "de": "etw zerstreuen, etw widerlegen",
                "info": "e.g. The actor released a statement to dispel any rumours about his marriage."
            },
            {
                "en": "to show promise",
                "de": "vielversprechend sein",
                "info": "e.g. Your work shows real promise."
            },
            { "en": "pleasurable", "de": "angenehm", "info": "n pleasure" },
            { "en": "occasion", "de": "Gelegenheit", "info": "phr on special occasions" },
            {
                "en": "to call sth out",
                "de": "etw anprangern",
                "info": "e.g. I called out his lies in front of everybody."
            },
            {
                "en": "curious(ly)",
                "de": "neugierig",
                "info": "interested in many things"
            },
            {
                "en": "to cross/exceed a threshold",
                "de": "eine Schwelle überschreiten",
                "info": "e.g. As soon as your income exceeds a certain threshold, they raise your taxes."
            },
            {
                "en": "to do justice to sb/sth",
                "de": "jdm/einer Sache gerecht werden",
                "info": "e.g. She is more beautiful in person — the photo doesn't do her justice!"
            },
            {
                "en": "surgeon",
                "de": "Chirurg/in",
                "info": "a doctor who operates on patients"
            },
            { "en": "brief", "de": "kurz", "info": "<> long" },
            {
                "en": "to be oblivious of sth",
                "de": "etw nicht wahrnehmen, etw vergessen",
                "info": "to not be aware of sth"
            },
            {
                "en": "to have bigger fish to fry",
                "de": "Wichtigeres zu tun haben",
                "info": "to have better things to do"
            },
            {
                "en": "innocent(ly)",
                "de": "unschuldig, in gutem Glauben",
                "info": "with good intentions"
            },
            {
                "en": "to conduct sth",
                "de": "etw durchführen",
                "info": "e.g. to conduct an experiment/research"
            },
            { "en": "to betray sb/sth", "de": "jdn/etw verraten", "info": "n betrayal" },
            {
                "en": "resentful",
                "de": "verbittert, verärgert",
                "info": "n resentment; v to resent sb/sth"
            },
            {
                "en": "to occur",
                "de": "stattfinden, geschehen",
                "info": "to happen, to take place"
            },
            { "en": "perception", "de": "Wahrnehmung", "info": "v to perceive" },
            {
                "en": "to relate to sb/sth",
                "de": "etw mit jdm/etw anfangen können",
                "info": "to find a connection with sb/sth"
            },
            {
                "en": "to debunk sth",
                "de": "etw entlarven, etw widerlegen",
                "info": "to prove sth wrong"
            },
            {
                "en": "endorsement",
                "de": "Produktwerbung durch Prominente",
                "info": "celebrity support of a brand or product"
            },
            {
                "en": "obsession (with sth)",
                "de": "Besessenheit (von etw)",
                "info": "v to be obsessed with sth"
            },
            {
                "en": "it's all roses and daisies",
                "de": "es herrscht eitel Sonnenschein",
                "info": "e.g. Marriage isn't all roses and daisies, you know!"
            },
            {
                "en": "doom",
                "de": "Untergang, Verderben",
                "info": "e.g. He fell off a bridge to his doom."
            },
            { "en": "to consent", "de": "zustimmen, einwilligen", "info": "agree" },
            {
                "en": "to rid sb of sth",
                "de": "jdn von etw befreien",
                "info": "to free sb of sth"
            },
            {
                "en": "to host sth",
                "de": "etw veranstalten, etw ausrichten",
                "info": "to organize an event"
            },
            {
                "en": "to get accustomed to sth",
                "de": "sich an etw gewöhnen",
                "info": "to accustom oneself to sth"
            },
            {
                "en": "indication",
                "de": "Hinweis",
                "info": "The increase in false reports is an indication of a larger problem."
            },
            {
                "en": "to be gullible",
                "de": "leichtgläubig sein",
                "info": "Some people are gullible enough to believe everything they read online."
            },
            {
                "en": "to parse truth from fiction",
                "de": "Wahrheit von Fiktion trennen",
                "info": "It’s essential to parse truth from fiction in today’s media landscape."
            },
            {
                "en": "to assess",
                "de": "bewerten",
                "info": "We need to assess the reliability of the sources before sharing information."
            },
            {
                "en": "temporarily",
                "de": "vorübergehend",
                "info": "The website was temporarily down due to high traffic."
            },
            {
                "en": "to target",
                "de": "anvisieren",
                "info": "The campaign aims to target younger audiences with its message."
            },
            {
                "en": "devoid of",
                "de": "ohne, entbehrend",
                "info": "The report was devoid of any credible sources."
            },
            {
                "en": "credibility",
                "de": "Glaubwürdigkeit",
                "info": "The scientist's credibility was questioned after the scandal."
            },
            {
                "en": "superficial",
                "de": "oberflächlich",
                "info": "His understanding of the topic was superficial at best."
            },
            {
                "en": "to promote",
                "de": "fördern, unterstützen",
                "info": "The organization aims to promote environmental awareness."
            },
            {
                "en": "to designate",
                "de": "benennen, ernennen",
                "info": "She was designated as the team leader for the project."
            },
            {
                "en": "savvy",
                "de": "clever, erfahren",
                "info": "He is quite savvy when it comes to financial matters."
            },
            {
                "en": "to be inclined",
                "de": "geneigt sein, tendieren",
                "info": "She is inclined to believe the rumors without evidence."
            },
            {
                "en": "scourge",
                "de": "Plage, Geißel",
                "info": "The scourge of misinformation affects public opinion."
            },
            {
                "en": "meddler",
                "de": "Einmischer",
                "info": "He is often seen as a meddler in his friends' personal lives."
            },
            {
                "en": "to vet information",
                "de": "Informationen überprüfen",
                "info": "It is important to vet information before sharing it online."
            },
            {
                "en": "supersede",
                "de": "ersetzen, ablösen",
                "info": "The new policy will supersede the old regulations."
            },
            {
                "en": "innate",
                "de": "angeboren, natürlich",
                "info": "She has an innate talent for music that is evident from a young age."
            },
            {
                "en": "to lead someone astray",
                "de": "jemanden in die Irre führen",
                "info": "Be careful not to lead someone astray with false information."
            },
            {
                "en": "arbiter",
                "de": "Schlichter, Schiedsrichter",
                "info": "The judge acted as an arbiter in the case."
            },
            {
                "en": "snap judgement",
                "de": "Schnellurteil",
                "info": "Making a snap judgement can often lead to misunderstandings."
            },
            {
                "en": "to be biased",
                "de": "voreingenommen sein",
                "info": "His report was biased due to his personal opinions."
            },
            {
                "en": "to surface",
                "de": "auftauchen",
                "info": "New evidence began to surface during the investigation."
            },
            {
                "en": "to retrain",
                "de": "umschulen",
                "info": "The company decided to retrain its employees on misinformation awareness."
            },
            {
                "en": "proxy",
                "de": "Stellvertreter",
                "info": "He acted as a proxy for his colleague during the meeting."
            },
            {
                "en": "to be worn out",
                "de": "erschöpft sein",
                "info": "After all the discussions, she felt worn out from the debate."
            },
            {
                "en": "subconsciously",
                "de": "unbewusst",
                "info": "She subconsciously accepted the misinformation as truth."
            },
            {
                "en": "border security",
                "de": "Grenzschutz, sichere Grenzen",
                "info": "A wave of illegal immigration led to an increase in border security."
            },
            {
                "en": "House of Representatives (AE)",
                "de": "Repräsentantenhaus",
                "info": "The lower chamber of the U.S. Congress."
            },
            {
                "en": "Senate (AE)",
                "de": "Senat",
                "info": "The upper chamber of the U.S. Congress."
            },
            {
                "en": "astonishing",
                "de": "erstaunlich",
                "info": "n astonishment; v to astonish sb."
            },
            {
                "en": "found sth",
                "de": "etw gründen",
                "info": "to establish sth, to set sth up."
            },
            {
                "en": "driving force",
                "de": "treibende Kraft, Triebfeder",
                "info": "Cheap labour has long been a driving force behind China's economic growth."
            },
            {
                "en": "relocate",
                "de": "umziehen, woanders hinziehen",
                "info": "to move to a different place."
            },
            {
                "en": "settle",
                "de": "sich niederlassen, sich ansiedeln",
                "info": "to move to a new place and stay there."
            },
            {
                "en": "consideration",
                "de": "Überlegung, Aspekt",
                "info": "Thinking about the positives and negatives of a situation to make a decision."
            },
            {
                "en": "aging society",
                "de": "alternde Gesellschaft",
                "info": "A society with more old people than young people."
            },
            {
                "en": "shrinking workforce",
                "de": "schrumpfende Erwerbsbevölkerung",
                "info": "Having fewer people who are fit and able to work."
            },
            {
                "en": "sought-after",
                "de": "begehrt, gesucht",
                "info": "In high demand."
            },
            {
                "en": "agriculture",
                "de": "Landwirtschaft",
                "info": "Growing food and raising animals for food production."
            },
            {
                "en": "host country",
                "de": "Gastland, Aufnahmeland",
                "info": "A country to which others are invited."
            },
            {
                "en": "failure",
                "de": "Unterlassung, Unterlassen",
                "info": "Not doing something."
            },
            {
                "en": "push factor",
                "de": "Migrationsursache, Push-Faktor",
                "info": "Reasons that make people want to leave."
            },
            {
                "en": "political turmoil",
                "de": "politische Unruhen",
                "info": "e.g. riots, protests, strikes."
            },
            {
                "en": "religious persecution",
                "de": "religiöse Verfolgung",
                "info": "e.g. forcing Jewish people to wear a yellow star."
            },
            {
                "en": "political oppression",
                "de": "politische Unterdrückung",
                "info": "Ruling a country with cruel authority."
            },
            {
                "en": "asylum seeker",
                "de": "Asylsuchende/r",
                "info": "Someone who wants to stay in a new country for safety reasons due to a threat in the home country."
            },
            {
                "en": "compelling",
                "de": "zwingend, entscheidend",
                "info": "Strong, forceful; e.g. a compelling argument."
            },
            {
                "en": "pull factor",
                "de": "Anreiz, Pull-Faktor",
                "info": "A reason to go somewhere or do something."
            },
            {
                "en": "perilous journey",
                "de": "(lebens)gefährliche Reise",
                "info": "Dangerous way of travelling."
            },
            {
                "en": "fall victim to sb/sth",
                "de": "jdm/etw zum Opfer fallen",
                "info": "To be hurt or injured because of someone or something."
            },
            {
                "en": "ruthless",
                "de": "skrupellos",
                "info": "Cruel and not caring about others."
            },
            {
                "en": "human trafficker",
                "de": "Menschenhändler/in, Schleuser/in",
                "info": "Someone who buys and sells other humans."
            },
            {
                "en": "exploit sb's plight",
                "de": "jds Notlage ausnutzen",
                "info": "To make use of somebody's bad situation."
            },
            {
                "en": "bigotry",
                "de": "Engstirnigkeit, (religiöser) Fanatismus",
                "info": "e.g. 'I hate all foreigners, and I can't stand women.'"
            },
            {
                "en": "xenophobia",
                "de": "Fremdenfeindlichkeit",
                "info": "Fear of foreigners."
            },
            {
                "en": "resentment",
                "de": "Feindseligkeit, Ressentiment(s)",
                "info": "v to resent sb/sth."
            },
            {
                "en": "perpetuate sth",
                "de": "etw aufrechterhalten, etw verfestigen",
                "info": "e.g. He perpetuated the rumour that she was a thief."
            },
            {
                "en": "a burden on society",
                "de": "eine Belastung für die Gesellschaft",
                "info": "Being dependent on the state for support."
            },
            {
                "en": "open-door policy",
                "de": "Politik der offenen Tür",
                "info": "Equal trade and investment."
            },
            {
                "en": "curb the influx of migrants",
                "de": "den Zustrom von Migranten/Migrantinnen eindämmen",
                "info": "To stop many people moving somewhere."
            },
            {
                "en": "attire",
                "de": "Kleidung",
                "info": "The clothes someone is wearing."
            },
            {
                "en": "integrate",
                "de": "sich integrieren",
                "info": "To mix things together to make one thing."
            },
            {
                "en": "assimilate",
                "de": "(sich) assimilieren, sich anpassen",
                "info": "To fit in or adapt."
            },
            {
                "en": "relinquish sth",
                "de": "etw aufgeben, auf etw verzichten",
                "info": "e.g. I refuse to relinquish control of the company I founded!"
            },
            {
                "en": "racial tensions",
                "de": "ethnische Spannungen",
                "info": "Problems between people of different ethnicities."
            },
            {
                "en": "sense of alienation",
                "de": "Gefühl der Entfremdung",
                "info": "Feeling like you don't fit in."
            },
            {
                "en": "be rampant",
                "de": "um sich greifen, an der Tagesordnung sein",
                "info": "To be very common."
            },
            {
                "en": "be on the rise",
                "de": "auf dem Vormarsch sein, (ständig) zunehmen",
                "info": "To become bigger or more frequent."
            },
            {
                "en": "melting pot",
                "de": "Schmelztiegel",
                "info": "A situation in which people from different backgrounds are mixed together."
            },
            {
                "en": "outdated",
                "de": "überholt, veraltet",
                "info": "No longer useful because of being old-fashioned."
            },
            {
                "en": "asset",
                "de": "Pluspunkt, Vorteil",
                "info": "A plus point or advantage."
            },
            {
                "en": "cherish sth",
                "de": "etw wertschätzen, etw lieben",
                "info": "To love something a lot."
            },
            {
                "en": "ethnic group",
                "de": "ethnische Gruppe, Bevölkerungsgruppe",
                "info": "e.g. African American, French Canadian."
            },
            {
                "en": "pervasive",
                "de": "weit verbreitet, allgegenwärtig",
                "info": "v to pervade sth."
            },
            {
                "en": "cut down on sth",
                "de": "etw reduzieren",
                "info": "To have less of something."
            },
            {
                "en": "deplorable",
                "de": "beklagenswert, betrüblich",
                "info": "e.g. She condemned his deplorable behaviour at the party."
            },
            {
                "en": "faith",
                "de": "(religiöser) Glaube",
                "info": "Strong religious belief."
            },
            {
                "en": "access to information",
                "de": "Zugang zu Informationen",
                "info": "the freedom to get information"
            },
            {
                "en": "broadsheet",
                "de": "(seriöse) Tageszeitung",
                "info": "e.g. The Times, Süddeutsche Zeitung"
            },
            {
                "en": "in-depth and serious coverage",
                "de": "gründliche und seriöse Berichterstattung",
                "info": "<> gossip, shallow reporting"
            },
            {
                "en": "tabloid",
                "de": "Boulevardzeitung",
                "info": "e.g. The Sun, Bild"
            },
            {
                "en": "current affairs",
                "de": "aktuelles Zeitgeschehen",
                "info": "news stories that are happening right now"
            },
            {
                "en": "in real time",
                "de": "in Echtzeit",
                "info": "at the same time as events actually happen"
            },
            {
                "en": "to go viral",
                "de": "sich rasant (im Internet) verbreiten",
                "info": "to become popular on the internet very quickly"
            },
            {
                "en": "to shape public opinion",
                "de": "die öffentliche Meinung formen",
                "info": "to form the ideas people have about a topic"
            },
            {
                "en": "spread of fake news",
                "de": "Verbreitung von Falschinformationen",
                "info": "distribution of incorrect information"
            },
            {
                "en": "misinformation",
                "de": "Fehlinformationen, Falschinformationen",
                "info": "incorrect or misleading information"
            },
            {
                "en": "polarization",
                "de": "Polarisierung",
                "info": "having opposite opinions"
            },
            {
                "en": "algorithm",
                "de": "Algorithmus",
                "info": "e.g. (Sum = S1+S2+S3)"
            },
            {
                "en": "echo chamber",
                "de": "Echokammer, Hallraum",
                "info": "group of people online all with the same ideas and opinions"
            },
            {
                "en": "bias",
                "de": "(politische) Einstellung(en), Vorurteil(e), Tendenz(en)",
                "info": "the ideas and opinions we already have"
            },
            {
                "en": "to monetize sth",
                "de": "aus etw ein Einkommen erzielen",
                "info": "to make money from sth"
            },
            {
                "en": "privacy",
                "de": "Privatsphäre",
                "info": "keeping of information to yourself"
            },
            {
                "en": "cyber security",
                "de": "Cybersicherheit",
                "info": "protecting systems and networks from digital attacks"
            },
            {
                "en": "data",
                "de": "Daten",
                "info": "facts and statistics"
            },
            {
                "en": "screen time",
                "de": "Bildschirmzeit",
                "info": "the amount of time spent online"
            },
            {
                "en": "online addiction",
                "de": "Internet-Sucht",
                "info": "e.g. I could not stop checking my phone because I had an internet addiction"
            },
            {
                "en": "skills",
                "de": "Fähigkeiten, Kenntnisse",
                "info": "knowledge and abilities"
            },
            {
                "en": "cheating",
                "de": "Betrug, Täuschung",
                "info": "<> playing fair"
            },
            {
                "en": "plagiarism",
                "de": "Plagiate, Diebstahl geistigen Eigentums",
                "info": "copying sb else’s work"
            },
            {
                "en": "attention span",
                "de": "Aufmerksamkeitsspanne",
                "info": "how long sb can concentrate"
            },
            {
                "en": "critical thinking",
                "de": "kritisches Denken",
                "info": "understanding situations based on facts and information"
            },
            {
                "en": "to navigate sth",
                "de": "sich in etw zurechtfinden, etw bewältigen",
                "info": "to find your way through sth"
            },
            {
                "en": "the public realm",
                "de": "die Öffentlichkeit, der öffentliche Raum",
                "info": "<> private, confidential"
            },
            {
                "en": "civil rights",
                "de": "Bürgerrechte",
                "info": "rights and freedoms that citizens have"
            },
            {
                "en": "to outline sth",
                "de": "etw darstellen, etw skizzieren",
                "info": "to give a (short) description of sth"
            },
            {
                "en": "assault (on sb/sth)",
                "de": "Angriff (auf jdn/etw)",
                "info": "attack (on sb/sth)"
            },
            {
                "en": "to seek to do sth",
                "de": "versuchen, etw zu tun",
                "info": "to try to do sth"
            },
            {
                "en": "to exploit sth",
                "de": "etw ausnutzen, etw ausbeuten",
                "info": "to use sth in a way that helps you"
            },
            {
                "en": "sensitive data",
                "de": "vertrauliche Daten",
                "info": "private information"
            },
            {
                "en": "to reveal sth",
                "de": "etw aufdecken, etw enthüllen",
                "info": "to show sth that was hidden before"
            },
            {
                "en": "extent",
                "de": "Ausmaß, Umfang",
                "info": "amount, scale"
            },
            {
                "en": "to purchase sth",
                "de": "etw kaufen, etw käuflich erwerben",
                "info": "to buy sth"
            },
            {
                "en": "to surveil sb/sth",
                "de": "jdn/etw überwachen",
                "info": "n surveillance"
            },
            {
                "en": "to compile sth",
                "de": "etw (Daten usw.) zusammenstellen",
                "info": "n compilation"
            },
            {
                "en": "likelihood",
                "de": "Wahrscheinlichkeit",
                "info": "probability of sth happening"
            },
            {
                "en": "to build a legal case",
                "de": "Beweismaterial zusammentragen, ermitteln",
                "info": "e.g. The lawyers built a legal case against him in the weeks before the trial."
            },
            {
                "en": "subpoena",
                "de": "gerichtliche Vorladung",
                "info": "a legal requirement to attend court as a witness"
            },
            {
                "en": "to weaponise sth against sb",
                "de": "etw als Waffe gegen jdn nutzen, etw gegen jdn verwenden",
                "info": "n weapon"
            },
            {
                "en": "to commit to sth",
                "de": "sich zu etw verpflichten, sich für etw engagieren",
                "info": "to promise to do sth"
            },
            {
                "en": "to obtain sth",
                "de": "etw erhalten, etw bekommen",
                "info": "to get sth, to receive sth"
            },
            {
                "en": "citizenship",
                "de": "Bürgersein, staatsbürgerliches Selbstverständnis",
                "info": "e.g. He holds dual citizenship in the UK and Germany."
            },
            {
                "en": "to set boundaries",
                "de": "Grenzen ziehen",
                "info": "e.g. When raising children, it is important to set clear boundaries."
            },
            {
                "en": "targeted",
                "de": "zielgerichtet, gezielt",
                "info": "n target; v to target sb/sth"
            },
            {
                "en": "revenge",
                "de": "Rache",
                "info": "act of hurting sb in return for them hurting you"
            },
            {
                "en": "decency",
                "de": "Anstand, gute Sitten",
                "info": "adj decent"
            },
            {
                "en": "to bring a lawsuit against sb",
                "de": "jdn verklagen, Klage gegen jdn einreichen",
                "info": "to sue sb"
            },
            {
                "en": "harm",
                "de": "Schaden",
                "info": "phr to inflict harm upon sb/sth"
            },
            {
                "en": "violation",
                "de": "Verletzung, Verstoß",
                "info": "action that breaks a law or a contract"
            },
            {
                "en": "harassment",
                "de": "Belästigung",
                "info": "v to harass sb"
            },
            {
                "en": "empirical proof",
                "de": "empirische Beweise",
                "info": "evidence based on fact and experience"
            },
            {
                "en": "civil liberties",
                "de": "bürgerliche Freiheitsrechte",
                "info": "the rights people have under a constitution"
            },
            {
                "en": "confession",
                "de": "Geständnis",
                "info": "v to confess sth (to sb)"
            },
            {
                "en": "unaccustomed",
                "de": "ungewohnt",
                "info": "phr to be unaccustomed to sth"
            },
            {
                "en": "to approach sb",
                "de": "an jdn/etw herantreten, sich jdm/etw nähern",
                "info": "to walk up to sb/sth, to get closer to sb/sth"
            },
            {
                "en": "to dispel sth",
                "de": "etw zerstreuen, etw widerlegen",
                "info": "e.g. The actor released a statement to dispel any rumours about his marriage."
            },
            {
                "en": "to show promise",
                "de": "vielversprechend sein",
                "info": "e.g. Your work shows real promise."
            },
            {
                "en": "pleasurable",
                "de": "angenehm",
                "info": "n pleasure"
            },
            {
                "en": "occasion",
                "de": "Gelegenheit",
                "info": "phr on special occasions"
            },
            {
                "en": "to call sth out",
                "de": "etw anprangern",
                "info": "e.g. I called out his lies in front of everybody."
            },
            {
                "en": "curious(ly)",
                "de": "neugierig",
                "info": "interested in many things"
            },
            {
                "en": "to cross/exceed a threshold",
                "de": "eine Schwelle überschreiten",
                "info": "e.g. As soon as your income exceeds a certain threshold, they raise your taxes."
            },
            {
                "en": "to do justice to sb/sth",
                "de": "jdm/einer Sache gerecht werden",
                "info": "e.g. She is more beautiful in person — the photo doesn't do her justice!"
            },
            {
                "en": "surgeon",
                "de": "Chirurg/in",
                "info": "a doctor who operates on patients"
            },
            {
                "en": "brief",
                "de": "kurz",
                "info": "<> long"
            },
            {
                "en": "to be oblivious of sth",
                "de": "etw nicht wahrnehmen, etw vergessen",
                "info": "to not be aware of sth"
            },
            {
                "en": "to have bigger fish to fry",
                "de": "Wichtigeres zu tun haben",
                "info": "to have better things to do"
            },
            {
                "en": "innocent(ly)",
                "de": "unschuldig, in gutem Glauben",
                "info": "with good intentions"
            },
            {
                "en": "to conduct sth",
                "de": "etw durchführen",
                "info": "e.g. to conduct an experiment/research"
            },
            {
                "en": "to betray sb/sth",
                "de": "jdn/etw verraten",
                "info": "n betrayal"
            },
            {
                "en": "resentful",
                "de": "verbittert, verärgert",
                "info": "n resentment; v to resent sb/sth"
            },
            {
                "en": "to occur",
                "de": "stattfinden, geschehen",
                "info": "to happen, to take place"
            },
            {
                "en": "perception",
                "de": "Wahrnehmung",
                "info": "v to perceive"
            },
            {
                "en": "to relate to sb/sth",
                "de": "etw mit jdm/etw anfangen können",
                "info": "to find a connection with sb/sth"
            },
            {
                "en": "to debunk sth",
                "de": "etw entlarven, etw widerlegen",
                "info": "to prove sth wrong"
            },
            {
                "en": "endorsement",
                "de": "Produktwerbung durch Prominente",
                "info": "celebrity support of a brand or product"
            },
            {
                "en": "obsession (with)",
                "de": "Besessenheit (von etw)",
                "info": "v to be obsessed with sth"
            },
            {
                "en": "doom",
                "de": "Untergang, Verderben",
                "info": "e.g. He fell off a bridge to his doom."
            },
            {
                "en": "to consent",
                "de": "zustimmen, einwilligen",
                "info": "agree"
            },
            {
                "en": "to rid sb of sth",
                "de": "jdn von etw befreien",
                "info": "to free sb of sth"
            },
            {
                "en": "to host sth",
                "de": "etw veranstalten, etw ausrichten",
                "info": "to organize an event"
            },
            {
                "en": "to get accustomed to sth",
                "de": "sich an etw gewöhnen",
                "info": "to accustom oneself to sth"
            },
            {
                "en": "strain sb/sth",
                "de": "jdn/etw strapazieren, jdn/etw belasten",
                "info": "n strain; phr to put a strain on sb/sth"
            },
            {
                "en": "spark sth",
                "de": "etw entfachen, etw auslösen",
                "info": "to cause sth, to result in sth"
            },
            {
                "en": "be faithful to sth",
                "de": "fest an etw glauben, an etw festhalten",
                "info": "n faith"
            },
            {
                "en": "core values",
                "de": "Grundwerte, zentrale Werte",
                "info": "e.g. Three of the core values of Christianity are love, respect and hope."
            },
            {
                "en": "terms",
                "de": "Bedingungen, Konditionen",
                "info": "conditions"
            },
            {
                "en": "duty",
                "de": "Aufgabe, Pflicht",
                "info": "responsibility, sth one must do"
            },
            {
                "en": "be obliged to do sth",
                "de": "gezwungen/verpflichtet sein, etw zu tun; etw tun müssen",
                "info": "to be forced to do sth you do not want to do"
            },
            {
                "en": "poverty-stricken",
                "de": "verarmt, arm",
                "info": "destitute, impoverished, hard up"
            },
            {
                "en": "shirk",
                "de": "sich einer Sache entziehen, sich vor etw drücken",
                "info": "e.g. Much preferring to spend her time partying, she shirked her responsibilities."
            },
            {
                "en": "stress sth",
                "de": "etw betonen, etw hervorheben",
                "info": "to underline sth"
            },
            {
                "en": "sufficient(ly)",
                "de": "genügend, hinreichend",
                "info": "enough, having the right amount"
            },
            {
                "en": "flee sth",
                "de": "vor etw fliehen",
                "info": "to run away from sth"
            },
            {
                "en": "welfare",
                "de": "Wohl, Wohlergehen; Sozialleistungen",
                "info": "e.g. She was concerned for the welfare of the children."
            },
            {
                "en": "assimilation",
                "de": "Anpassung, Assimilierung",
                "info": "v to assimilate"
            },
            {
                "en": "set the bar high",
                "de": "die Messlatte/Schwelle hoch legen",
                "info": "e.g. As a straight-A student, my brother set the bar high for the rest of us."
            },
            {
                "en": "native population",
                "de": "einheimische Bevölkerung",
                "info": "e.g. At 22%, Alaska is the U.S. state with the highest native population."
            },
            {
                "en": "provided that",
                "de": "unter der Voraussetzung, dass",
                "info": "under the condition that"
            },
            {
                "en": "misogyny",
                "de": "Frauenhass, Misogynie",
                "info": "n misogynist, adj misogynistic"
            },
            {
                "en": "homophobia",
                "de": "Schwulenhass, Homophobie",
                "info": "n homophobe, adj homophobic"
            },
            {
                "en": "adhere to sth",
                "de": "sich an etw halten",
                "info": "n adherence (to sth)"
            },
            {
                "en": "duty-bound",
                "de": "verpflichtet",
                "info": "e.g. The police are duty-bound to take any crime reported to them seriously."
            },
            {
                "en": "probation period",
                "de": "Bewährungsfrist, Probezeit",
                "info": "trial period"
            },
            {
                "en": "hostility",
                "de": "Feindseligkeit, ablehnende Haltung",
                "info": "aggression, negativity"
            },
            {
                "en": "riot",
                "de": "randalieren, Krawall machen",
                "info": "n riot, rioting"
            },
            {
                "en": "the root issue",
                "de": "das eigentliche Problem",
                "info": "the central problem, the basic concern"
            },
            {
                "en": "timescale",
                "de": "Zeitbegriff, Zeitempfinden",
                "info": "phr to put a timescale on sth"
            },
            {
                "en": "come to terms with sth",
                "de": "sich mit etw abfinden, sich mit etw arrangieren",
                "info": "to accept sth you're not necessarily comfortable with"
            },
            {
                "en": "offensive",
                "de": "beleidigend, anstößig",
                "info": "rude in a way that causes sb to feel upset or insulted"
            },
            {
                "en": "forge sth",
                "de": "etw schmieden, etw schaffen",
                "info": "to create sth"
            },
            {
                "en": "ease sth",
                "de": "etw lindern, etw entschärfen",
                "info": "e.g. The medication went someway to easing the pain she was suffering."
            },
            {
                "en": "prevail",
                "de": "sich durchsetzen, die Oberhand behalten/gewinnen",
                "info": "e.g. Let's hope that justice will prevail in the end."
            },
            {
                "en": "prosperous",
                "de": "erfolgreich, von Wohlstand geprägt",
                "info": "rich and successful"
            },
            {
                "en": "dire poverty",
                "de": "äußerste/extreme Armut",
                "info": "destitution, impoverished"
            },
            {
                "en": "employment permit",
                "de": "Arbeitserlaubnis",
                "info": "written permission to work in a country"
            },
            {
                "en": "deny sth",
                "de": "etw leugnen, etw bestreiten",
                "info": "to say that sth is not true"
            },
            {
                "en": "reclaim sth",
                "de": "etw zurückverlangen, etw zurückfordern",
                "info": "to take back sth that belonged to you"
            },
            {
                "en": "worn",
                "de": "abgewetzt, verschlissen",
                "info": "e.g. The beggar's clothes were worn and ragged."
            },
            {
                "en": "subtle",
                "de": "subtil, fein(sinnig)",
                "info": "difficult to see, not obvious, but important"
            },
            {
                "en": "mispronounce sth",
                "de": "etw falsch aussprechen",
                "info": "n mispronunciation"
            },
            {
                "en": "negate sth",
                "de": "etw zunichtemachen",
                "info": "n negation"
            },
            {
                "en": "ambivalence",
                "de": "Zwiespältigkeit, Ambivalenz",
                "info": "adj ambivalent"
            },
            {
                "en": "be new territory for sb",
                "de": "Neuland für jdn sein",
                "info": "to be new for sb, yet to be explored"
            },
            {
                "en": "adjustment (to sth)",
                "de": "Anpassung (an etw), Einstellung (auf etw)",
                "info": "v to adjust sth"
            },
            {
                "en": "suburb",
                "de": "Vorort",
                "info": "residential area on the outside of a city"
            },
            {
                "en": "mock sb/sth",
                "de": "sich über jdn/etw lustig machen, verspotten",
                "info": "to laugh at sb/sth in a nasty way"
            },
            {
                "en": "come with the territory",
                "de": "einfach dazugehören",
                "info": "e.g. You are a teacher now; stress comes with the territory."
            },
            {
                "en": "bungled",
                "de": "verkorkst, missglückt",
                "info": "carried out poorly and in a careless way"
            },
            {
                "en": "code-switching",
                "de": "Sprachwechsel",
                "info": "the practice of switching between languages while speaking"
            },
            {
                "en": "enunciate",
                "de": "artikulieren",
                "info": "n enunciation"
            },
            {
                "en": "in earnest",
                "de": "ernsthaft, im Ernst",
                "info": "seriously"
            },
            {
                "en": "wince",
                "de": "zusammenzucken",
                "info": "to cringe"
            },
            {
                "en": "sell-out",
                "de": "Verräter/in",
                "info": "a person who gives up beliefs or values for other advantages"
            },
            {
                "en": "abbreviate sth",
                "de": "etw abkürzen",
                "info": "n abbreviation"
            },
            {
                "en": "with a straight face",
                "de": "ohne eine Miene zu verziehen, ohne mit der Wimper zu zucken",
                "info": "e.g. That is laughable! It is a wonder that you said it with a straight face!"
            },
            {
                "en": "bother to do sth",
                "de": "sich die Mühe machen, etw zu tun",
                "info": "e.g. Half the class hadn't bothered to do the homework."
            },
            {
                "en": "honor sb/sth AE",
                "de": "jdn/etw anerkennen, jdn/etw würdigen",
                "info": "to show appreciation and respect for sb/sth"
            },
            {
                "en": "rally",
                "de": "Kundgebung",
                "info": "a public meeting, usually political in nature"
            },
            {
                "en": "dismissiveness",
                "de": "Geringschätzung",
                "info": "adj dismissive"
            },
            {
                "en": "disdain",
                "de": "Verachtung",
                "info": "v to disdain sb/sth"
            },
            {
                "en": "heritage",
                "de": "Erbe, Geschichte, (kulturelle) Herkunft",
                "info": "history, traditions and culture of a country or society"
            },
            {
                "en": "the odd one out",
                "de": "etw, was nicht dazugehört",
                "info": "the one that doesn't belong"
            },
            {
                "en": "request (for sth)",
                "de": "Bitte (um etw), Aufforderung (zu etw)",
                "info": "v to request sth"
            }
        ];

        // Bereinigen der Daten (Doppelte Einträge basierend auf 'en' entfernen)
        const vocab = Array.from(new Map(vocabDataRaw.map(item => [item.en, item])).values());

        // Anwendungsstatus
        let currentIndex = 0;
        let isFlipped = false;
        let mode = 'en-de'; // 'en-de' oder 'de-en'
        let shuffledIndices = [];
        let isAnimating = false; // Verhindert Klick-Spam während der Animation

        // DOM-Elemente abrufen
        const cardInner = document.getElementById('card-inner');
        const cardFrontText = document.getElementById('card-front-text');
        const cardBackText = document.getElementById('card-back-text');
        const cardInfoText = document.getElementById('card-info-text');
        const progressText = document.getElementById('progress-text');
        const flipButton = document.getElementById('flip-button');
        const nextButton = document.getElementById('next-button');
        const shuffleButton = document.getElementById('shuffle-button');
        const modeEnDeButton = document.getElementById('mode-en-de');
        const modeDeEnButton = document.getElementById('mode-de-en');
        const completeMessage = document.getElementById('complete-message');

        // --- Funktionen ---

        /**
         * Mischt das Array der Indizes
         */
        function shuffleCards() {
            shuffledIndices = vocab.map((_, index) => index);
            for (let i = shuffledIndices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledIndices[i], shuffledIndices[j]] = [shuffledIndices[j], shuffledIndices[i]];
            }
            console.log("Karten gemischt.");
        }

        /**
         * Aktualisiert NUR den Textinhalt der Karte, ohne Animation.
         */
        function updateCardContent() {
            const vocabIndex = shuffledIndices[currentIndex];
            const currentVocab = vocab[vocabIndex];

            if (!currentVocab) {
                console.error("Keine Vokabeldaten gefunden für Index:", currentIndex, vocabIndex);
                return;
            }

            // Texte basierend auf dem Modus zuweisen
            if (mode === 'en-de') {
                cardFrontText.textContent = currentVocab.en;
                cardBackText.textContent = currentVocab.de;
            } else {
                cardFrontText.textContent = currentVocab.de;
                cardBackText.textContent = currentVocab.en;
            }
            cardInfoText.textContent = currentVocab.info || ''; // Info anzeigen, falls vorhanden

            // Fortschritt aktualisieren
            progressText.textContent = `Karte ${currentIndex + 1} von ${vocab.length}`;
        }

        /**
         * Dreht die Karte um
         */
        function flipCard() {
            isFlipped = !isFlipped;
            cardInner.classList.toggle('is-flipped');
            flipButton.textContent = isFlipped ? 'Vorderseite anzeigen' : 'Antwort anzeigen';
        }

        /**
         * Zeigt die nächste Karte mit Animation an
         */
        function nextCard() {
            // Verhindern, dass Benutzer klicken, während die Animation läuft
            if (isAnimating) return;
            isAnimating = true;

            // 1. Prüfen, ob die Karte umgedreht ist
            const wasFlipped = isFlipped;
            if (wasFlipped) {
                flipCard(); // Zuerst zurückdrehen
            }

            // 2. Warten, bis die Drehanimation (falls nötig) abgeschlossen ist
            setTimeout(() => {
                // 3. Slide-Out-Animation starten
                cardInner.classList.add('is-changing');

                // 4. Am Ende der Slide-Out-Animation...
                cardInner.addEventListener('animationend', (e) => {
                    // Sicherstellen, dass wir auf die richtige Animation hören
                    if (e.animationName !== 'slideOut') return;

                    cardInner.classList.remove('is-changing');

                    // 5. Nächste Karte laden (Index erhöhen)
                    currentIndex++;
                    if (currentIndex >= vocab.length) {
                        // Am Ende angekommen, neu mischen und von vorne beginnen
                        currentIndex = 0;
                        shuffleCards(); // Nur die Indizes neu mischen
                        // Abschlussnachricht anzeigen
                        completeMessage.classList.remove('hidden');
                    } else {
                        // Abschlussnachricht ausblenden
                        completeMessage.classList.add('hidden');
                    }

                    // 6. Neuen Karteninhalt setzen
                    updateCardContent();

                    // 7. Slide-In-Animation starten
                    cardInner.classList.add('is-loading');
                    cardInner.addEventListener('animationend', (e) => {
                        if (e.animationName !== 'slideIn') return;
                        cardInner.classList.remove('is-loading');
                        // Animation abgeschlossen, nächste Klicks zulassen
                        isAnimating = false;
                    }, { once: true }); // Listener entfernt sich selbst

                }, { once: true }); // Listener entfernt sich selbst

            }, wasFlipped ? 300 : 0); // 300ms = halbe Drehanimation
        }

        /**
         * Ändert den Abfragemodus
         * @param {string} newMode - 'en-de' oder 'de-en'
         */
        function changeMode(newMode) {
            if (mode === newMode) return; // Nichts tun, wenn Modus bereits aktiv ist
            mode = newMode;

            // Button-Stile aktualisieren
            if (mode === 'en-de') {
                modeEnDeButton.classList.add('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-200');
                modeEnDeButton.classList.remove('bg-indigo-100', 'text-indigo-700', 'hover:bg-indigo-200');

                modeDeEnButton.classList.add('bg-indigo-100', 'text-indigo-700', 'hover:bg-indigo-200');
                modeDeEnButton.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-200');
            } else {
                modeDeEnButton.classList.add('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-200');
                modeDeEnButton.classList.remove('bg-indigo-100', 'text-indigo-700', 'hover:bg-indigo-200');

                modeEnDeButton.classList.add('bg-indigo-100', 'text-indigo-700', 'hover:bg-indigo-200');
                modeEnDeButton.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-200');
            }

            // Aktuelle Karte neu laden (falls umgedreht, zurückdrehen und dann Inhalt aktualisieren)
            const wasFlipped = isFlipped;
            if (wasFlipped) {
                flipCard();
            }
            setTimeout(updateCardContent, wasFlipped ? 300 : 0);
        }

        /**
         * Startet die Anwendung
         */
        function startApp() {
            // Event Listeners hinzufügen
            flipButton.addEventListener('click', flipCard);
            nextButton.addEventListener('click', nextCard);

            shuffleButton.addEventListener('click', () => {
                currentIndex = 0;
                shuffleCards();

                const wasFlipped = isFlipped;
                if (wasFlipped) {
                    flipCard(); // Zurückdrehen
                }
                // Warten auf Drehanimation, dann Inhalt aktualisieren
                setTimeout(() => {
                    updateCardContent();
                    completeMessage.classList.add('hidden');
                }, wasFlipped ? 300 : 0);
            });

            modeEnDeButton.addEventListener('click', () => changeMode('en-de'));
            modeDeEnButton.addEventListener('click', () => changeMode('de-en'));

            // Initiales Mischen und Laden
            shuffleCards();
            updateCardContent(); // Erste Karte laden

            console.log(`Vokabeltrainer geladen. ${vocab.length} einzigartige Vokabeln.`);
        }

        // Anwendung starten, sobald das DOM geladen ist
        document.addEventListener('DOMContentLoaded', startApp);

    </script>
</body>

</html>